$(document).ready(function(){    loadState();    $('#add-btn-id').click(function(){        $('#div-form-id').removeAttr('hidden');    });    $("button[type='reset']").click(function(){        $('#div-form-id').attr('hidden', 'hidden');    });    var options= {        dataType: 'json',        target: '#output1',        success: function(response){            $("button[type='reset']").click();            loadState();        }    };    $('#form-save-id').ajaxForm(options);        $('#btn-submit-search-id').click(function(){        $('#modal-search-id').modal('hide');        $('#search-btn-id').addClass('hide');        $('#reset-search-id').removeClass('hide');    });        $('#reset-search-id').click(function(){        $.ajax({            type: 'post',            url: $projectExecPath+"/backend/state/load-state",            data: {                type: 'reset'            },            success: function(response){                loadState();                $('#reset-search-id').addClass('hide');                $('#search-btn-id').removeClass('hide');                $('#form-search-id').resetForm();            }        });    });        $('#search-btn-id').click(function(){        $('#modal-search-id').modal();        var options2= {            dataType: 'json',            target: '#output1',            success: function(response){                $(".demo2").hide();                var demo= '.demo3';                loadPage(response.data, response.totalCount, demo);            }        };        $('#form-search-id').ajaxForm(options2);    });});function loadState(){        $.ajax({        type: 'post',        url: $projectExecPath+"/backend/state/load-state",        success: function(response){            var result= $.parseJSON(response);                        if(result.success == true){                var demo= '.demo2';                loadPage(result.data, result.totalCount, demo);            }        }    });}function loadPage(resultData, resultTotalCount, demo){    $('tbody').html('');        $.each(resultData, function(index, data){                 var html= '<tr>'+                                '<td>'+                                    '<span class="mouseC" id="name-edit-'+data.iId+'">'+                                        data.vName+                                    '</span>'+                                '</td>'+                                '<td>'+                                    '<span class="mouseC" id="little-edit-'+data.iId+'">'+                                        data.vName_little+                                    '</span>'+                                '</td>'+                                '<td>'+                                    '<span class="mouseC" id="statuse-edit-'+data.iId+'">'+                                        data.eStatus+                                    '</span>'+                                '</td>'+                                '<td width="100px">'+                                    '<button onclick="deleteFn('+data.iId+')" id="btn-del-'+data.iId+'" data-delId='+data.iId+' class="btn btn-small btn-danger"><span class="icon-trash icon-white"></span> DELETE</button>'+                                '</td>'+                            '</tr>';                $('tbody').append(html);                if(data.eStatus == 'Active'){                        var valStatus= 1;                }else if(data.eStatus == 'Inactive'){                        var valStatus= 2;                }                $('#statuse-edit-'+data.iId).editable({                    type: 'select',                    pk: data.iId,                    url: $projectExecPath+"/backend/state/edit-line",                    title: 'Enter Status',                    name: 'eStatus',                    value: valStatus,                    source: [                        {value: 1, text: 'Active'},                        {value: 2, text: 'Inactive'}                    ],                    validate: function(value) {                        if($.trim(value) == '') {                        return 'This field is required';                        }                    }                });                $('#name-edit-'+data.iId).editable({                    type: 'text',                    pk: data.iId,                    url: $projectExecPath+"/backend/state/edit-line",                    title: 'Enter Name',                    name: 'vName',                    validate: function(value) {                        if($.trim(value) == '') {                        return 'This field is required';                        }                    }                });                $('#little-edit-'+data.iId).editable({                    type: 'text',                    pk: data.iId,                    url: $projectExecPath+"/backend/state/edit-line",                    title: 'Enter Name Little',                    name: 'vName_little'                });            });            if(resultTotalCount > "10"){                $(demo).show();            }            var page= parseInt(resultTotalCount/10);            var remain= resultTotalCount%10;            if(remain == 0){                var countPage= page;            }else{                var countPage= page+1;            }            if(demo == '.demo2'){                $('.demo3').hide();            }else if(demo == '.demo3'){                $('.demo2').hide();            }                        $(demo).bootpag({                total: countPage,                page: 1,                maxVisible: 10                }).on('page', function(event, num){                    $.ajax({                        type: 'post',                        url: $projectExecPath+"/backend/state/load-state",                        data: {                            num: num                        },                        success: function(response){                            var result= $.parseJSON(response);                            if(result.success == true){                                $('tbody').html('');                                $.each(result.data, function(index, data){                                     var html= '<tr>'+                                                    '<td>'+                                                        '<span class="mouseC" id="name-edit-'+data.iId+'">'+                                                            data.vName+                                                        '</span>'+                                                    '</td>'+                                                    '<td>'+                                                        '<span class="mouseC" id="little-edit-'+data.iId+'">'+                                                            data.vName_little+                                                        '</span>'+                                                    '</td>'+                                                    '<td>'+                                                        '<span class="mouseC" id="statuse-edit-'+data.iId+'">'+                                                            data.eStatus+                                                        '</span>'+                                                    '</td>'+                                                    '<td>'+                                                        '<button width="100px" onclick="deleteFn('+data.iId+')" id="btn-del-'+data.iId+'" data-delId='+data.iId+' class="btn btn-small btn-danger"><span class="icon-trash icon-white"></span> DELETE</button>'+                                                    '</td>'+                                                '</tr>';                                    $('tbody').append(html);                                    if(data.eStatus == 'Active'){                                        var valStatus= 1;                                    }else if(data.eStatus == 'Inactive'){                                        var valStatus= 2;                                    }                                    $('#statuse-edit-'+data.iId).editable({                                        type: 'select',                                        pk: data.iId,                                        url: $projectExecPath+"/backend/state/edit-line",                                        title: 'Enter Status',                                        name: 'eStatus',                                        value: valStatus,                                        source: [                                            {value: 1, text: 'Active'},                                            {value: 2, text: 'Inactive'}                                        ],                                        validate: function(value) {                                            if($.trim(value) == '') {                                            return 'This field is required';                                            }                                        }                                    });                                    $('#name-edit-'+data.iId).editable({                                        type: 'text',                                        pk: data.iId,                                        url: $projectExecPath+"/backend/state/edit-line",                                        title: 'Enter Name',                                        name: 'vName',                                        validate: function(value) {                                            if($.trim(value) == '') {                                            return 'This field is required';                                            }                                        }                                    });                                    $('#little-edit-'+data.iId).editable({                                        type: 'text',                                        pk: data.iId,                                        url: $projectExecPath+"/backend/state/edit-line",                                        title: 'Enter Name Little',                                        name: 'vName_little'                                    });                                });                            }                        }                    });            });}function deleteFn(id){    $('#modal-delete-state-id').modal();    $('#delete-state-yes-id').click(function(){        $.ajax({            type: 'post',            url: $projectExecPath+"/backend/state/delete-state",            data: {                id: id            },            success: function(response){                var result= $.parseJSON(response);                $("#modal-delete-state-id").modal('hide');                                loadState();            }        });    });   }