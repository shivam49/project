$(document).ready(function(){    loadGenres();    $('#btn-add-id').click(function(){        $('#div-form-id').removeAttr('hidden');    });    $("#reset-form-id").click(function(){        $('#div-form-id').attr('hidden', 'hidden');    });    var options= {        dataType: 'json',        target: '#output1',        success: function(response){            $("#reset-form-id").click();            $.ajax({                type: 'post',                url: $projectExecPath+"/backend/genres/load-genres",                data: {                    type: 'reset'                },                success: function(response){                    loadGenres();                    $("#btn-reset-search").addClass('hide');                    $("#btn-search").removeClass('hide');                }            });        }    }    $('#form-save-id').ajaxForm(options);        $("#btn-search").click(function(){        $("#modal-search-id").modal();    });    $("#submit-search-id").click(function(){        var optionsSearch= {            dataType: 'json',            target: '#output1',            success: function(response){                $("#modal-search-id").modal('hide');                $(".demo2").hide();                var demo= '.demo3';                loadPage(response.data, response.totalCount, demo);                $("#btn-reset-search").removeClass('hide');                $("#btn-search").addClass('hide');            }        }        $("#form-search-id").ajaxForm(optionsSearch);    });        $("#btn-reset-search").click(function(){        $.ajax({            type: 'post',            url: $projectExecPath+"/backend/genres/load-genres",            data: {                type: 'reset'            },            success: function(response){                loadGenres();                $("#btn-reset-search").addClass('hide');                $("#btn-search").removeClass('hide');                $('#form-search-id').resetForm();            }        });    });});function loadGenres(){    $.ajax({        type: 'post',        url: $projectExecPath+"/backend/genres/load-genres",        success: function(response){            var result= $.parseJSON(response);            if(result.success == true){                var demo= '.demo2';                loadPage(result.data, result.totalCount, demo);            }        }    });}function loadPage(resultData, resultTotalCount, demo){    loadAjax(resultData);    if(resultTotalCount > "10"){        $(demo).show();    }    var page= parseInt(resultTotalCount/10);    var remain= resultTotalCount%10;    if(remain == 0){        var countPage= page;    }else{        var countPage= page+1;    }    if(demo == '.demo2'){        $('.demo3').hide();    }else if(demo == '.demo3'){        $('.demo2').hide();    }    $(demo).bootpag({        total: countPage,        page: 1,        maxVisible: 10        }).on('page', function(event, num){            $.ajax({                type: 'post',                url: $projectExecPath+"/backend/genres/load-genres",                data: {                    num: num                },                success: function(response){                    var result= $.parseJSON(response);                    if(result.success == true){                        loadAjax(result.data);                    }                }            });        });}function loadAjax(resultData){    $('tbody').html('');    $.each(resultData, function(index, data){        var html= '<tr>'+                        '<td>'+                            '<span class="mouseC" id="title-edit-'+data.iId+'">'+                                data.vTitle+                            '</span>'+                        '</td>'+                        '<td width="100px">'+                            '<button onclick="deleteFn('+data.iId+')" id="btn-del-'+data.iId+'" data-delId='+data.iId+' class="btn btn-small btn-danger"><span class="icon-trash icon-white"></span> DELETE</button>'+                        '</td>'+                    '</tr>';         $('tbody').append(html);         $('#title-edit-'+data.iId).editable({            type: 'text',            pk: data.iId,            url: $projectExecPath+"/backend/genres/edit-line",            title: 'Enter Title',            name: 'vTitle',            validate: function(value) {                if($.trim(value) == '') {                return 'This field is required';                }            }          });    });}function deleteFn(id){    $('#modal-delete-genres-id').modal();    $('#delete-genres-yes-id').click(function(){        $.ajax({            type: 'post',            url: $projectExecPath+"/backend/genres/delete-genres",            data: {                id: id            },            success: function(response){                $("#modal-delete-genres-id").modal('hide');                loadGenres();            }        });    });}